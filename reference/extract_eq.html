<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>'LaTeX' equation for R models — extract_eq • equatiomatic</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="'LaTeX' equation for R models — extract_eq"><meta property="og:description" content="Extract the variable names from a model to produce a 'LaTeX' equation.
Supports any model where there is a broom::tidy() method. This is a generic
function with methods for lmerMod objects obtained with lme4::lmer(),
glmerMod objects with lme4::glmer(), forecast_ARIMA with
forecast::Arima() and default, with the later further covering most &quot;base&quot;
R models implemented in broom::tidy() like lm objects with stats::lm(),
glm objects with stats::glm() or polr objects with MASS::polr(). The
default method also supports clm objects obtained with ordinal::clm()."><meta property="og:image" content="https://datalorax.github.io/equatiomatic/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">equatiomatic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/equatiomatic.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/colors.html">Colorizing equations and swapping variable names</a>
    </li>
    <li>
      <a href="../articles/forecast-arima.html">forecast::Arima Models</a>
    </li>
    <li>
      <a href="../articles/lme4-lmer.html">lme4::lmer Models</a>
    </li>
    <li>
      <a href="../articles/plotting-integration.html">Plotting with {equatiomatic}</a>
    </li>
    <li>
      <a href="../articles/tests_and_coverage.html">Tests and Coverage</a>
    </li>
    <li>
      <a href="../articles/usage-shiny.html">Usage with shiny</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/datalorax/equatiomatic/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>'LaTeX' equation for R models</h1>
    <small class="dont-index">Source: <a href="https://github.com/datalorax/equatiomatic/blob/master/R/extract_eq.R" class="external-link"><code>R/extract_eq.R</code></a></small>
    <div class="hidden name"><code>extract_eq.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extract the variable names from a model to produce a 'LaTeX' equation.
Supports any model where there is a <code><a href="https://broom.tidymodels.org/reference/reexports.html" class="external-link">broom::tidy()</a></code> method. This is a generic
function with methods for lmerMod objects obtained with <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lme4::lmer()</a></code>,
glmerMod objects with <code><a href="https://rdrr.io/pkg/lme4/man/glmer.html" class="external-link">lme4::glmer()</a></code>, forecast_ARIMA with
<code><a href="https://pkg.robjhyndman.com/forecast/reference/Arima.html" class="external-link">forecast::Arima()</a></code> and default, with the later further covering most "base"
R models implemented in <code><a href="https://broom.tidymodels.org/reference/reexports.html" class="external-link">broom::tidy()</a></code> like lm objects with <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code>,
glm objects with <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">stats::glm()</a></code> or polr objects with <code><a href="https://rdrr.io/pkg/MASS/man/polr.html" class="external-link">MASS::polr()</a></code>. The
default method also supports clm objects obtained with <code><a href="https://rdrr.io/pkg/ordinal/man/clm.html" class="external-link">ordinal::clm()</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extract_eq</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  intercept <span class="op">=</span> <span class="st">"alpha"</span>,</span>
<span>  greek <span class="op">=</span> <span class="st">"beta"</span>,</span>
<span>  greek_colors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subscript_colors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  var_colors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  var_subscript_colors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  raw_tex <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  swap_var_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  swap_subscript_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ital_vars <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  index_factors <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_distribution <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  wrap <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  terms_per_line <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  operator_location <span class="op">=</span> <span class="st">"end"</span>,</span>
<span>  align_env <span class="op">=</span> <span class="st">"aligned"</span>,</span>
<span>  use_coefs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  coef_digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  fix_signs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  font_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mean_separate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_variances <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  se_subscripts <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>A fitted model</p></dd>


<dt id="arg-intercept">intercept<a class="anchor" aria-label="anchor" href="#arg-intercept"></a></dt>
<dd><p>How should the intercept be displayed? Default is <code>"alpha"</code>,
but can also accept <code>"beta"</code>, in which case the it will be displayed
as beta zero.</p></dd>


<dt id="arg-greek">greek<a class="anchor" aria-label="anchor" href="#arg-greek"></a></dt>
<dd><p>What notation should be used for
coefficients? Currently only accepts <code>"beta"</code> (with plans for future
development). Can be used in combination with <code>raw_tex</code> to use any
notation, e.g., <code>"\hat{\beta}"</code>.</p></dd>


<dt id="arg-greek-colors">greek_colors<a class="anchor" aria-label="anchor" href="#arg-greek-colors"></a></dt>
<dd><p>The colors of the greek notation in the equation. Must
be a single color (named or HTML hex code) or a vector of colors (which
will be recycled if smaller than the number of terms in the model). When
rendering to PDF, I suggest using HTML hex codes, as not all named colors
are recognized by LaTeX, but equatiomatic will internally create the
color definitions for you if HTML codes are supplied. Note that this is
not yet implemented for mixed effects models (lme4).</p></dd>


<dt id="arg-subscript-colors">subscript_colors<a class="anchor" aria-label="anchor" href="#arg-subscript-colors"></a></dt>
<dd><p>The colors of the subscripts for the greek notation.
The argument structure is equivalent to <code>greek_colors</code> (i.e., see
above for more detail).</p></dd>


<dt id="arg-var-colors">var_colors<a class="anchor" aria-label="anchor" href="#arg-var-colors"></a></dt>
<dd><p>The color of the variable names. This takes a named vector
of the form <code>c("variable" = "color")</code>. For example
<code>c("bill_length_mm" = "#00d4fa", "island" = "#00fa85")</code>. Colors can
be names (e.g., <code>"red"</code>) or HTML hex codes, as shown in the example.</p></dd>


<dt id="arg-var-subscript-colors">var_subscript_colors<a class="anchor" aria-label="anchor" href="#arg-var-subscript-colors"></a></dt>
<dd><p>The colors of the factor subscripts for
categorical variables. The interface for this is equivalent to
<code>var_colors</code>, and all subscripts for a given variable will be
displayed in the provided color. For example, the code
<code>c("island" = "green")</code> would result in the subscripts for "Dream"
and "Torgersen" being green (assuming "Biscoe" was the reference group).</p></dd>


<dt id="arg-raw-tex">raw_tex<a class="anchor" aria-label="anchor" href="#arg-raw-tex"></a></dt>
<dd><p>Logical. Is the greek code being passed to denote coefficients
raw tex code?</p></dd>


<dt id="arg-swap-var-names">swap_var_names<a class="anchor" aria-label="anchor" href="#arg-swap-var-names"></a></dt>
<dd><p>A vector of the form c("old_var_name" = "new name").
For example: c("bill_length_mm" = "Bill Length (MM)").</p></dd>


<dt id="arg-swap-subscript-names">swap_subscript_names<a class="anchor" aria-label="anchor" href="#arg-swap-subscript-names"></a></dt>
<dd><p>A vector of the form
c("old_subscript_name" = "new name"). For example:
c("f" = "Female").</p></dd>


<dt id="arg-ital-vars">ital_vars<a class="anchor" aria-label="anchor" href="#arg-ital-vars"></a></dt>
<dd><p>Logical, defaults to <code>FALSE</code>. Should the variable names
not be wrapped in the <code>\operatorname{}</code> command?</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p>A label for the equation, which can then be used for in-text
references. See example <a href="https://www.overleaf.com/learn/latex/Cross_referencing_sections,_equations_and_floats#Referencing_equations.2C_figures_and_tables" class="external-link">here</a>.
Note that this <strong>only works for PDF output</strong>. The in-text references also
must match the label exactly, and must be formatted as
<code>\ref{eq: label}</code>, where <code>label</code> is a place holder for the
specific label. Notice the space after the colon before the label. This
also must be there, or the cross-reference will fail.</p></dd>


<dt id="arg-index-factors">index_factors<a class="anchor" aria-label="anchor" href="#arg-index-factors"></a></dt>
<dd><p>Logical, defaults to <code>FALSE</code>. Should the factors
be indexed, rather than using subscripts to display all levels?</p></dd>


<dt id="arg-show-distribution">show_distribution<a class="anchor" aria-label="anchor" href="#arg-show-distribution"></a></dt>
<dd><p>Logical. When fitting a logistic or probit
regression, should the binomial distribution be displayed? Defaults to
<code>FALSE</code>.</p></dd>


<dt id="arg-wrap">wrap<a class="anchor" aria-label="anchor" href="#arg-wrap"></a></dt>
<dd><p>Logical, defaults to <code>FALSE</code>. Should the terms on the
right-hand side of the equation be split into multiple lines? This is
helpful with models with many terms.</p></dd>


<dt id="arg-terms-per-line">terms_per_line<a class="anchor" aria-label="anchor" href="#arg-terms-per-line"></a></dt>
<dd><p>Integer, defaults to 4. The number of right-hand side
terms to include per line. Used only when <code>wrap</code> is <code>TRUE</code>.</p></dd>


<dt id="arg-operator-location">operator_location<a class="anchor" aria-label="anchor" href="#arg-operator-location"></a></dt>
<dd><p>Character, one of “end” (the default) or
“start”. When terms are split across multiple lines, they are split
at mathematical operators like <code>+</code>. If set to “end”, each line will
end with a trailing operator (<code>+</code> or <code>-</code>). If set to “start”, each
line will begin with an operator.</p></dd>


<dt id="arg-align-env">align_env<a class="anchor" aria-label="anchor" href="#arg-align-env"></a></dt>
<dd><p>TeX environment to wrap around equation. Must be one of
<code>aligned</code>, <code>aligned*</code>, <code>align</code>, or <code>align*</code>. Defaults
to <code>aligned</code>.</p></dd>


<dt id="arg-use-coefs">use_coefs<a class="anchor" aria-label="anchor" href="#arg-use-coefs"></a></dt>
<dd><p>Logical, defaults to <code>FALSE</code>. Should the actual model
estimates be included in the equation instead of math symbols?</p></dd>


<dt id="arg-coef-digits">coef_digits<a class="anchor" aria-label="anchor" href="#arg-coef-digits"></a></dt>
<dd><p>Integer, defaults to 2. The number of decimal places to
round to when displaying model estimates.</p></dd>


<dt id="arg-fix-signs">fix_signs<a class="anchor" aria-label="anchor" href="#arg-fix-signs"></a></dt>
<dd><p>Logical, defaults to <code>TRUE</code>. If disabled,
coefficient estimates that are negative are preceded with a "+" (e.g.
<code>5(x) + -3(z)</code>). If enabled, the "+ -" is replaced with a "-" (e.g.
<code>5(x) - 3(z)</code>).</p></dd>


<dt id="arg-font-size">font_size<a class="anchor" aria-label="anchor" href="#arg-font-size"></a></dt>
<dd><p>The font size of the equation. Defaults to default of
the output format. Takes any of the standard LaTeX arguments (see
<a href="https://www.overleaf.com/learn/latex/Font_sizes,_families,_and_styles#Font_styles" class="external-link">here</a>).</p></dd>


<dt id="arg-mean-separate">mean_separate<a class="anchor" aria-label="anchor" href="#arg-mean-separate"></a></dt>
<dd><p>Currently only support for <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lmer</a></code>
models. Should the mean structure be inside or separated from the
normal distribution? Defaults to <code>NULL</code>, in which case it will become
<code>TRUE</code> if there are more than three fixed-effect parameters. If
<code>TRUE</code>, the equation will be displayed as, for example,
outcome ~ N(mu, sigma); mu = alpha + beta_1(wave). If <code>FALSE</code>, this
same equation would be outcome ~ N(alpha + beta, sigma).</p></dd>


<dt id="arg-return-variances">return_variances<a class="anchor" aria-label="anchor" href="#arg-return-variances"></a></dt>
<dd><p>Logical. When <code>use_coefs = TRUE</code> with a mixed
effects model (e.g., <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lme4::lmer()</a></code>), should the variances and
co-variances be returned? If <code>FALSE</code> (the default) standard deviations
and correlations are returned instead.</p></dd>


<dt id="arg-se-subscripts">se_subscripts<a class="anchor" aria-label="anchor" href="#arg-se-subscripts"></a></dt>
<dd><p>Logical. If <code>se_subscripts = TRUE</code> then the
equation will include the standard errors below each coefficient.
This is supported for lm and glm models.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments (for future development; not currently used).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A character of class “equation”.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The different methods all use the same arguments, but not all arguments are
suitable to all models. Check here above to determine if a feature is
implemented for a given model.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Simple model</span></span></span>
<span class="r-in"><span><span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">cyl</span> <span class="op">+</span> <span class="va">disp</span>, <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{mpg} = \alpha + \beta_{1}(\operatorname{cyl}) + \beta_{2}(\operatorname{disp}) + \epsilon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Include all variables</span></span></span>
<span class="r-in"><span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{mpg} = \alpha + \beta_{1}(\operatorname{cyl}) + \beta_{2}(\operatorname{disp}) + \beta_{3}(\operatorname{hp}) + \beta_{4}(\operatorname{drat}) + \beta_{5}(\operatorname{wt}) + \beta_{6}(\operatorname{qsec}) + \beta_{7}(\operatorname{vs}) + \beta_{8}(\operatorname{am}) + \beta_{9}(\operatorname{gear}) + \beta_{10}(\operatorname{carb}) + \epsilon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Works for categorical variables too, putting levels as subscripts</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"penguins"</span>, package <span class="op">=</span> <span class="st">"equatiomatic"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">body_mass_g</span> <span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">+</span> <span class="va">species</span>, <span class="va">penguins</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{body\_mass\_g} = \alpha + \beta_{1}(\operatorname{bill\_length\_mm}) + \beta_{2}(\operatorname{species}_{\operatorname{Chinstrap}}) + \beta_{3}(\operatorname{species}_{\operatorname{Gentoo}}) + \epsilon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">8675309</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  cat1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cat2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, each <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cont1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cont2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">50</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">10</span>, <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">out</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">d</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{out} = \alpha + \beta_{1}(\operatorname{cat1}_{\operatorname{b}}) + \beta_{2}(\operatorname{cat1}_{\operatorname{c}}) + \beta_{3}(\operatorname{cat2}_{\operatorname{B}}) + \beta_{4}(\operatorname{cat2}_{\operatorname{C}}) + \beta_{5}(\operatorname{cont1}) + \beta_{6}(\operatorname{cont2}) + \epsilon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Don't italicize terms</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod1</span>, ital_vars <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{mpg} = \alpha + \beta_{1}(\operatorname{cyl}) + \beta_{2}(\operatorname{disp}) + \epsilon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Wrap equations in an "aligned" environment</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod2</span>, wrap <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \begin{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{mpg} &amp;= \alpha + \beta_{1}(\operatorname{cyl}) + \beta_{2}(\operatorname{disp}) + \beta_{3}(\operatorname{hp})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad \beta_{4}(\operatorname{drat}) + \beta_{5}(\operatorname{wt}) + \beta_{6}(\operatorname{qsec}) + \beta_{7}(\operatorname{vs})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad \beta_{8}(\operatorname{am}) + \beta_{9}(\operatorname{gear}) + \beta_{10}(\operatorname{carb}) + \epsilon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \end{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Wider equation wrapping</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod2</span>, wrap <span class="op">=</span> <span class="cn">TRUE</span>, terms_per_line <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \begin{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{mpg} &amp;= \alpha + \beta_{1}(\operatorname{cyl}) + \beta_{2}(\operatorname{disp}) + \beta_{3}(\operatorname{hp})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad \beta_{4}(\operatorname{drat}) + \beta_{5}(\operatorname{wt}) + \beta_{6}(\operatorname{qsec}) + \beta_{7}(\operatorname{vs})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad \beta_{8}(\operatorname{am}) + \beta_{9}(\operatorname{gear}) + \beta_{10}(\operatorname{carb}) + \epsilon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \end{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Include model estimates instead of Greek letters</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod2</span>, wrap <span class="op">=</span> <span class="cn">TRUE</span>, terms_per_line <span class="op">=</span> <span class="fl">2</span>, use_coefs <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \begin{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{\widehat{mpg}} &amp;= 12.3 - 0.11(\operatorname{cyl})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad 0.01(\operatorname{disp}) - 0.02(\operatorname{hp})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad 0.79(\operatorname{drat}) - 3.72(\operatorname{wt})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad 0.82(\operatorname{qsec}) + 0.32(\operatorname{vs})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad 2.52(\operatorname{am}) + 0.66(\operatorname{gear})\ - \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad 0.2(\operatorname{carb})</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \end{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Don't fix doubled-up "+ -" signs</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod2</span>, wrap <span class="op">=</span> <span class="cn">TRUE</span>, terms_per_line <span class="op">=</span> <span class="fl">4</span>, use_coefs <span class="op">=</span> <span class="cn">TRUE</span>, fix_signs <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \begin{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{\widehat{mpg}} &amp;= 12.3 + -0.11(\operatorname{cyl}) + 0.01(\operatorname{disp}) + -0.02(\operatorname{hp})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad 0.79(\operatorname{drat}) + -3.72(\operatorname{wt}) + 0.82(\operatorname{qsec}) + 0.32(\operatorname{vs})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad 2.52(\operatorname{am}) + 0.66(\operatorname{gear}) + -0.2(\operatorname{carb})</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \end{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use indices for factors instead of subscripts</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod2</span>, wrap <span class="op">=</span> <span class="cn">TRUE</span>, terms_per_line <span class="op">=</span> <span class="fl">4</span>, index_factors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \begin{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \operatorname{mpg} &amp;= \alpha + \operatorname{cyl} + \operatorname{disp} + \operatorname{hp}\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad \operatorname{drat} + \operatorname{wt} + \operatorname{qsec} + \operatorname{vs}\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad \operatorname{am} + \operatorname{gear} + \operatorname{carb} + \epsilon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \end{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use other model types, like glm</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">8675309</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cat1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cat2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, each <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cont1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cont2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">50</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">out</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">d</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">extract_eq</span><span class="op">(</span><span class="va">mod5</span>, wrap <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \begin{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \log\left[ \frac { P( \operatorname{out} = \operatorname{1} ) }{ 1 - P( \operatorname{out} = \operatorname{1} ) } \right] &amp;= \alpha + \beta_{1}(\operatorname{cat1}_{\operatorname{b}}) + \beta_{2}(\operatorname{cat1}_{\operatorname{c}}) + \beta_{3}(\operatorname{cat2}_{\operatorname{B}})\ + \\</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;\quad \beta_{4}(\operatorname{cat2}_{\operatorname{C}}) + \beta_{5}(\operatorname{cont1}) + \beta_{6}(\operatorname{cont2})</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> \end{aligned}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $$</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Daniel Anderson, Andrew Heiss, Jay Sumners, Philippe Grosjean.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

